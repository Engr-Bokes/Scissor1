{"version":3,"file":"urlRoutes.js","sourceRoot":"","sources":["../../src/routes/urlRoutes.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AACjC,OAAO,EAAE,UAAU,EAAE,eAAe,EAAE,WAAW,EAAE,qBAAqB,EAAE,MAAM,8BAA8B,CAAC;AAC/G,OAAO,EAAE,cAAc,EAAE,MAAM,8BAA8B,CAAC;AAC9D,OAAO,EAAE,WAAW,EAAE,MAAM,2BAA2B,CAAC,CAAC,iCAAiC;AAE1F,MAAM,MAAM,GAAG,MAAM,EAAE,CAAC;AAExB,kCAAkC;AAClC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,cAAc,EAAE,UAAU,CAAC,CAAC;AAEpD,6CAA6C;AAC7C,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,cAAc,EAAE,eAAe,CAAC,CAAC;AAEhE,0CAA0C;AAC1C,MAAM,CAAC,GAAG,CAAC,YAAY,EAAE,cAAc,EAAE,WAAW,CAAC,CAAC;AAEtD,4EAA4E;AAC5E,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,qBAAqB,CAAC,CAAC,CAAC,yBAAyB;AAE1F,eAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\r\nimport { shortenUrl, getUrlAnalytics, getUserUrls, redirectToOriginalUrl } from '../controllers/urlController';\r\nimport { authMiddleware } from '../middleware/authMiddleware';\r\nimport { rateLimiter } from '../middleware/rateLimiter'; // Import the custom rate limiter\r\n\r\nconst router = Router();\r\n\r\n// Route to create a shortened URL\r\nrouter.post('/shorten', authMiddleware, shortenUrl);\r\n\r\n// Route to get analytics for a shortened URL\r\nrouter.get('/:code/analytics', authMiddleware, getUrlAnalytics);\r\n\r\n// Route to get all URLs created by a user\r\nrouter.get('/user/urls', authMiddleware, getUserUrls);\r\n\r\n// Route to handle redirection to the original URL with custom rate limiting\r\nrouter.get('/:code', rateLimiter(10, 1), redirectToOriginalUrl); // 10 requests per minute\r\n\r\nexport default router;\r\n"]}